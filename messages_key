from cryptography.fernet import Fernet
import os

# 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º URL-safe Base64-–∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π 32-–±–∞–π—Ç–æ–≤—ã–π –∫–ª—é—á
# –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞ –¥–ª—è Fernet
key = Fernet.generate_key()

# 2. –í—ã–≤–æ–¥–∏–º –∫–ª—é—á
print(f"üîë –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á: {key.decode()}")

# 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–ª—é—á –≤ —Ñ–∞–π–ª .env (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
try:
    with open(".env", "a") as f:
        f.write(f"\nENCRYPTION_KEY='{key.decode()}'\n")
    print("‚úÖ –ö–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ñ–∞–π–ª .env")
except Exception:
    print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á –≤ .env. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é.")